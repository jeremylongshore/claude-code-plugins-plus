flowchart TD
    A[User Request] --> B{Router Selects Skill}

    B --> C[Load SKILL.md Body - Progressive Disclosure]:::load

    C --> D[Read Input Files - allowed-tools: Read,Grep]:::read

    D --> E[Process Data - Run scripts via CLAUDE_PLUGIN_ROOT]:::process

    E --> F[Write Output - allowed-tools: Write]:::write

    F --> G[Format Result - JSON/Markdown/Structured]:::output

    G --> H[Return to User]

    classDef load fill:#fff4e6,stroke:#e65100,stroke-width:2px
    classDef read fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px
    classDef process fill:#e3f2fd,stroke:#1565c0,stroke-width:2px
    classDef write fill:#fce4ec,stroke:#c2185b,stroke-width:2px
    classDef output fill:#f3e5f5,stroke:#6a1b9a,stroke-width:2px
